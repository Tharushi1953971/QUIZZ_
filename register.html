<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Register - QUIZZ</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap">
  <style>
    /* Additional styles specific to registration page */
    .success-message {
      color: var(--success);
      font-weight: 600;
      text-align: center;
      margin-top: 0.5rem;
    }
    
    .login-link {
      text-align: center;
      margin-top: 1rem;
    }
    
    .login-link a {
      color: var(--primary);
      text-decoration: none;
      font-weight: 600;
      transition: all 0.3s ease;
    }
    
    .login-link a:hover {
      text-decoration: underline;
      color: var(--primary-dark);
    }
  </style>
</head>
<body>
  <div class="background-elements"></div>

  <header>
    <div class="container">
      <div class="logo">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon"><rect width="16" height="16" x="4" y="4" rx="1"/><path d="M4 12h16"/><path d="M12 4v16"/></svg>
        <h1>QUIZZ</h1>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon"><circle cx="12" cy="12" r="9"/><path d="M12 17.5c2.5 0 4.5-2 4.5-4.5s-2-4.5-4.5-4.5-4.5 2-4.5 4.5 2 4.5 4.5 4.5z"/><path d="m9 9 6 6"/><path d="m15 9-6 6"/></svg>
      </div>
    </div>
  </header>

  <main>
    <div class="container">
      <div class="card">
        <div class="card-header">
          <h2>Join the Fun!</h2>
          <p>Create your account to start learning math</p>
        </div>
        <div class="card-content">
          <div class="form-group">
            <label for="reg-username">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
              Username
            </label>
            <input type="text" id="reg-username" placeholder="Choose a username">
          </div>
          <div class="form-group">
            <label for="reg-password">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon"><rect width="18" height="11" x="3" y="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
              Password
            </label>
            <input type="password" id="reg-password" placeholder="Create a password">
          </div>
          <p id="register-result" class="error-message"></p>
          <div class="login-link">
            Already have an account? <a href="index.html">Log in here</a>
          </div>
        </div>
        <div class="card-footer">
          <button id="register-btn" class="btn btn-primary" style="width: 100%;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><line x1="19" x2="19" y1="8" y2="14"/><line x1="22" x2="16" y1="11" y2="11"/></svg>
            Create Account
          </button>
        </div>
      </div>
    </div>
  </main>

  <footer>
    <div class="container">
      <p>© 2025 Math Quiz App. Have fun learning!
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon bounce"><path d="M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z"/><path d="m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z"/><path d="M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0"/><path d="M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5"/></svg>
      </p>
    </div>
  </footer>

  <script>
    // Create background elements
    function createBackgroundElements() {
      const backgroundEl = document.querySelector('.background-elements');
      
      // Create bubbles
      for (let i = 0; i < 10; i++) {
        const bubble = document.createElement('div');
        bubble.className = 'bubble';
        bubble.style.width = `${Math.random() * 100 + 50}px`;
        bubble.style.height = bubble.style.width;
        bubble.style.left = `${Math.random() * 100}%`;
        bubble.style.top = `${Math.random() * 100}%`;
        bubble.style.animationDuration = `${Math.random() * 10 + 5}s`;
        backgroundEl.appendChild(bubble);
      }
      
      // Create math symbols
      const symbols = ['+', '-', '×', '÷', '=', '%'];
      for (let i = 0; i < 15; i++) {
        const symbol = document.createElement('div');
        symbol.className = 'math-symbol';
        symbol.textContent = symbols[Math.floor(Math.random() * symbols.length)];
        symbol.style.left = `${Math.random() * 100}%`;
        symbol.style.top = `${Math.random() * 100}%`;
        symbol.style.color = `hsl(${Math.random() * 360}, 70%, 70%)`;
        symbol.style.animationDuration = `${Math.random() * 20 + 10}s`;
        backgroundEl.appendChild(symbol);
      }
    }

    // Call the function when the page loads
    document.addEventListener('DOMContentLoaded', createBackgroundElements);

    // Registration functionality
    document.getElementById("register-btn").addEventListener("click", function () {
      const username = document.getElementById("reg-username").value;
      const password = document.getElementById("reg-password").value;
      const resultElement = document.getElementById("register-result");

      // Validate inputs
      if (!username.trim()) {
        resultElement.textContent = "Please enter a username";
        resultElement.className = "error-message";
        return;
      }

      if (!password.trim() || password.length < 4) {
        resultElement.textContent = "Password must be at least 4 characters";
        resultElement.className = "error-message";
        return;
      }

      fetch("register.php", {
        method: "POST",
        headers: {
          "Content-Type": "application/x-www-form-urlencoded"
        },
        body: `username=${encodeURIComponent(username)}&password=${encodeURIComponent(password)}`
      })
        .then(res => res.text())
        .then(data => {
          if (data.trim() === "success") {
            resultElement.textContent = "Registration successful! You can now log in.";
            resultElement.className = "success-message";
            
            // Show confetti for successful registration
            showConfetti();
            
            // Clear the form
            document.getElementById("reg-username").value = "";
            document.getElementById("reg-password").value = "";
          } else {
            resultElement.textContent = data.trim();
            resultElement.className = "error-message";
          }
        })
        .catch(err => {
          resultElement.textContent = "Error connecting to server.";
          resultElement.className = "error-message";
          console.error(err);
        });
    });

    // Function to show confetti animation
    function showConfetti() {
      for (let i = 0; i < 50; i++) {
        const confetti = document.createElement('div');
        confetti.className = 'confetti';
        confetti.style.left = `${Math.random() * 100}%`;
        confetti.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 50%)`;
        confetti.style.animationDelay = `${Math.random() * 0.5}s`;
        document.body.appendChild(confetti);
        
        // Remove confetti after animation
        setTimeout(() => {
          confetti.remove();
        }, 3000);
      }
    }
  </script>
</body>
</html>